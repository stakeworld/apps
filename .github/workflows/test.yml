name: Test
on:
  workflow_dispatch:

jobs:
  endpoints:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-node@v4
      with:
        node-version: 'lts/*'
    - name: check
      run: |
        Testing websocat
        websocat -uU wss://dot-rpc.stakeworld.io
        echo "Testing outbound IP:"
        curl ifconfig.me
        echo "Testing DNS:"
        dig dot-rpc.stakeworld.io
        echo "Pinging endpoints..."
        ping -c2 dot-rpc.stakeworld.io || true
        curl dot-rpc.stakeworld.io
